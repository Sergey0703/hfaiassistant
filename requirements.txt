# ИСПРАВЛЕННЫЙ requirements.txt для HuggingFace Spaces
# Core FastAPI dependencies
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6
pydantic==2.5.0
pydantic-settings==2.1.0
python-dotenv==1.0.0

# HTTP and async
aiohttp==3.9.1
aiofiles==23.2.0
httpx==0.25.2

# КРИТИЧЕСКОЕ ИСПРАВЛЕНИЕ: Совместимые версии для PyTorch
# НЕ устанавливаем torch здесь - уже установлен в Dockerfile
# torch==2.1.0  # Установлен в Dockerfile
# torchvision==0.16.0  # Установлен в Dockerfile
# sentence-transformers==2.7.0  # Установлен в Dockerfile

# Vector Database - ChromaDB с фиксированными версиями
numpy>=1.21.0,<2.0.0
chromadb==0.4.18

# LLM dependencies for HuggingFace Transformers
transformers>=4.35.0,<5.0.0
accelerate==0.24.1
huggingface-hub>=0.20.0,<0.25.0

# Text processing
beautifulsoup4==4.12.2
lxml==4.9.3
langdetect==1.0.9

# Data processing
pandas>=2.0.0,<3.0.0

# Utilities
tqdm==4.66.1
cachetools==5.3.2
orjson==3.9.10

# File handling
filetype==1.2.0

# JSON schema
jsonschema==4.20.0

# Retry logic
tenacity==8.2.3